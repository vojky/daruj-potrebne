<!doctype html>
<html lang="cs">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Pro Ukrajinu">
  <meta name="author" content="">
  <title>Pro Ukrajinu · daruj potřebné</title>
  <link rel="icon" type="image/svg+xml" href="https://cdn.jsdelivr.net/gh/bbscout/daruj-potrebne@main/img/favicon.svg">
  <link rel="alternate icon" href="https://cdn.jsdelivr.net/gh/bbscout/daruj-potrebne@main/img/favicon.ico">
  <link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/bbscout/daruj-potrebne@main/img/favicon.svg" color="#ff8a01">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/gh/bbscout/daruj-potrebne@main/css/style.css" rel="stylesheet">
  <style>
    .form-control.no-validate:valid {
      border-color: #ced4da;
      padding-right: .75rem;
      background: none;
    }
  </style>
</head>

<body class="bg-light">
  <script>
    //Definice funkce
    function msieversion() {

      var ua = window.navigator.userAgent;
      var msie = ua.indexOf("MSIE ");

      if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./))  // Pokud jde o IE
      {
        alert("Používáte nepodporovaný prohlížeč. Prosíme, použijte Google Chrome, Mozilla Firefox, Microsoft Edge apod."); //
      }


      return false;
    }

    msieversion(); //Spustí funkci
  </script>
  <div class="container">
    <main>
      <div class=" col-md-10 offset-md-1 mb-3 text-center">
        <img src="https://cdn.jsdelivr.net/gh/bbscout/daruj-potrebne@main/img/pozadi-ukrajina.jpg" class="img-fluid"
          alt="snímek vytištěné metodiky">
        <h1><a href="index.html">Pro Ukrajinu</a></h1>
        <h2>Darujte konkrétní věci, které někdo potřebuje...</h2><br>
        <p class="mb-3">Chcete darovat, ale nevíte co je potřeba? Nebo jste z Ukrajiny a naopak něco potřebujete?
          Podívejte se níže... jendoduchý poptávko/nabídkový systém pomoci Sed convallis magna eu sem. Duis bibendum,
          lectus ut viverra rhoncus, dolor nunc faucibus libero, eget...
        </p>
        <p>

          <a data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false"
            aria-controls="collapseExample" class="link-secondary"> více o projektu</a>
        </p>
      </div>
      <div class=" col-md-10 offset-md-1 text-center">
        <div class="collapse " id="collapseExample">
          <div class="card card-body mb-5">
            <p class="text-left mb-0"><small>
                Nullam sit amet magna in magna gravida vehicula. Duis bibendum, lectus ut viverra rhoncus, dolor nunc
                faucibus libero, eget facilisis enim ipsum id lacus. Fusce suscipit libero eget elit. Duis condimentum
                augue id magna semper rutrum. Nam quis nulla. Maecenas lorem. Donec quis nibh at felis congue commodo.
                Maecenas libero. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit
                laboriosam, nisi ut aliquid ex ea commodi consequatur? Nunc auctor. Nullam justo enim, consectetuer nec,
                ullamcorper ac, vestibulum in, elit. Suspendisse sagittis ultrices augue. Duis ante orci, molestie vitae
                vehicula venenatis, tincidunt ac pede. Nullam rhoncus aliquam metus. In rutrum. Vivamus porttitor turpis
                ac leo. Duis pulvinar.
              </small></p>
          </div>
        </div>
      </div>



      <div class="col-md-10 offset-md-1 ">

        <nav>
          <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
            <button class="nav-link text-xs-center active" id="nav-potrebuji-tab" data-bs-toggle="tab"
              data-bs-target="#nav-potrebuji" type="button" role="tab" aria-controls="nav-potrebuji"
              aria-selected="true"><i class="bi bi-question"></i> Potřebuji pomoc</button>
            <button class="nav-link text-xs-center" id="nav-nabizim-tab" data-bs-toggle="tab"
              data-bs-target="#nav-nabizim" style="margin-right: 1px;" type="button" role="tab"
              aria-controls="nav-nabizim" aria-selected="false"><i class="bi bi-gift"></i> Nabízím pomoc</button>
          </div>
        </nav>
        <div class="tab-content" id="nav-tabContent">
          <div class="m-3 tab-pane fade show active" id="nav-potrebuji" role="tabpanel"
            aria-labelledby="nav-potrebuji-tab">

            <form class="needs-validation" id="requests-form">
              <div class="row ">
                <div class="col-md-6 col-sm-12 mb-3">
                  <label for="Jméno" class="form-label"><i class="bi bi-person"></i> Jméno*</label>
                  <input type="text" class="form-control" name="jmeno" id="jmeno" placeholder="Jan" required>
                  <div class="invalid-feedback">
                    Prosíme, vyplňte vaše jméno.
                  </div>
                </div>
                <div class="col-md-6 col-sm-12 mb-3">
                  <label for="Příjmení" class="form-label"><i class="bi bi-person"></i> Příjmení*</label>
                  <input type="text" class="form-control" name="prijmeni" id="prijmeni" placeholder="Novák" required>
                  <div class="invalid-feedback">
                    Prosíme, vyplňte vaše příjmení.
                  </div>
                </div>



              </div>
              <div class="row">
                <div class="col-md-6 col-sm-12 mb-3">
                  <label for="email" class="form-label"><i class="bi bi-envelope"></i> Email</label>
                  <input type="email" class="form-control no-validate" name="email" id="email" placeholder="vas@email.cz">
                  <div class="invalid-feedback">
                    Prosíme, vložte emailovou adresu, ať vás můžeme kontaktovat.
                  </div>
                </div>

                <div class="col-md-6 col-sm-12 mb-3">
                  <label for="telefon" class="form-label"><i class="bi bi-phone"></i> Telefon</label>
                  <input type="text" class="form-control no-validate" name="telefon" id="telefon" placeholder="+420 123 456 789">
                  <div class="invalid-feedback">
                    Prosíme, vložte váš telefon, ať vás můžeme kontaktovat.
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 mb-3">
                  <label for="adresa" class="form-label"><i class="bi bi-house"></i> Adresa doručení*</label>
                  <input type="text" class="form-control" name="adresa" id="adresa" placeholder="Květinková 35, Plzeň" required>
                  <div class="invalid-feedback">
                    Prosíme, vyplňte adresu nebo místo, kde vám předáme potřebné vybavení.
                  </div>
                </div>

              </div>
              <div class="row">
                <div class="col-12 mb-3">
                  <label for="poznamka" class="form-label"><i class="bi bi-pencil"></i> Poznámka</label>
                  <textarea class="form-control no-validate" placeholder="Chcete nám ještě něco dělit?" name="poznamka" id="poznamka"></textarea>
                </div>
              </div>

              <hr class="my-4">
              <div class="row">
                <div class="col-12 mb-3">
                  <label for="vec" class="form-label"><i class="bi bi-gift"></i> Co potřebujete*</label>
                  <input type="text" class="form-control" name="vec-1" id="vec-1"
                      placeholder="napište, co potřebujete" required>
                  <div class="invalid-feedback">
                    Napište, prosím, alespoň jednu věc, kterou od nás potřebujete zajistit.
                  </div>
                </div>
                <div id="dalsi-veci">
                </div>
              </div>
              <div class="row">
                <div class="col-12 mb-3">
                  <button type="button" class="btn btn-success" onclick="addRow()"><i class="bi bi-plus-circle"></i>
                      Přidat
                      řádek</button>
                </div>
              </div>
              <hr class="my-4">
              <button class="w-100 btn btn-success btn-lg" type="button" onclick="send('requests-form')">Odeslat <i
                  class="bi bi-check2"></i></button>
            </form>
            <div class="alert alert-warning alert-dismissible fade collapse mt-3" id="requests-success">
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
              <strong>Váš požadavek byl úspěšně odeslán!</strong>
            </div>
          </div>
          



          <div class="m-3 tab-pane fade" id="nav-nabizim" role="tabpanel" aria-labelledby="nav-nabizim-tab">


            <form class="needs-validation" id="requests-form">
              <div class="row ">
                <div class="col-md-6 col-sm-12 mb-3">
                  <label for="Jméno" class="form-label"><i class="bi bi-person"></i> Jméno*</label>
                  <input type="text" class="form-control" name="jmeno" id="jmeno" placeholder="Jan" required>
                  <div class="invalid-feedback">
                    Prosíme, vyplňte vaše jméno.
                  </div>
                </div>
                <div class="col-md-6 col-sm-12 mb-3">
                  <label for="Příjmení" class="form-label"><i class="bi bi-person"></i> Příjmení*</label>
                  <input type="text" class="form-control" name="prijmeni" id="prijmeni" placeholder="Novák" required>
                  <div class="invalid-feedback">
                    Prosíme, vyplňte vaše příjmení.
                  </div>
                </div>



              </div>
              <div class="row">
                <div class="col-md-6 col-sm-12 mb-3">
                  <label for="email" class="form-label"><i class="bi bi-envelope"></i> Email</label>
                  <input type="email" class="form-control no-validate" name="email" id="email" placeholder="vas@email.cz">
                  <div class="invalid-feedback">
                    Prosíme, vložte emailovou adresu, ať vás můžeme kontaktovat.
                  </div>
                </div>

                <div class="col-md-6 col-sm-12 mb-3">
                  <label for="telefon" class="form-label"><i class="bi bi-phone"></i> Telefon*</label>
                  <input type="text" class="form-control no-validate" name="telefon" id="telefon" placeholder="+420 123 456 789" required>
                  <div class="invalid-feedback">
                    Prosíme, vložte váš telefon, ať vás můžeme kontaktovat.
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 mb-3">
                  <label for="adresa" class="form-label"><i class="bi bi-house"></i> Adresa doručení*</label>
                  <input type="text" class="form-control" name="adresa" id="adresa" placeholder="Květinková 35, Plzeň" required>
                  <div class="invalid-feedback">
                    Prosíme, vyplňte adresu nebo místo, kde vám předáme potřebné vybavení.
                  </div>
                </div>

              </div>
              <div class="row">
                <div class="col-12 mb-3">
                  <label for="poznamka" class="form-label"><i class="bi bi-pencil"></i> Poznámka</label>
                  <textarea class="form-control no-validate" placeholder="Chcete nám ještě něco dělit?" name="poznamka" id="poznamka"></textarea>
                </div>
              </div>

              <hr class="my-4">
              <div class="row">
                <div class="col-12 mb-3">
                  <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">First</th>
                        <th scope="col">Last</th>
                        <th scope="col">Handle</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                          </div>
                      </th>
                        <td>Mark</td>
                        <td>Otto</td>
                        <td>@mdo</td>
                      </tr>
                      <tr>
                        <th scope="row">2</th>
                        <td>Jacob</td>
                        <td>Thornton</td>
                        <td>@fat</td>
                      </tr>
                      <tr>
                        <th scope="row">3</th>
                        <td colspan="2">Larry the Bird</td>
                        <td>@twitter</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <hr class="my-4">
              <button class="w-100 btn btn-success btn-lg" type="button" onclick="send('requests-form')">Odeslat <i
                  class="bi bi-check2"></i></button>
            </form>


          </div>
        </div>


      </div>
      




      <div class="col-sm-10 offset-sm-1 pt-3">
        <div class="row">
          <div class="col-sm-12 col-md-12 text-center">
            <p class="text-muted pt-3"><small>Za podpory:</small></p>
            <div class="row">
              <div class="col-sm-12 py-3">
                <a href="https://www.skaut.cz" target="_blank" title="Skaut"><img
                    src="https://cdn.jsdelivr.net/gh/bbscout/daruj-potrebne@main/img/skaut.svg" class="img-fluid loga"
                    alt="Skaut"> </a>
              </div>


            </div>
          </div>

        </div>
      </div>
    </main>
  </div>
  <footer class="my-5 text-muted text-center text-small">
    <p class="mb-2"><small>Váš prohlížeč může ukládat tzv. <a href="https://cs.wikipedia.org/wiki/HTTP_cookie"
          class="link-secondary" target=_blank>cookies</a> soubory, nicméně tento web s nimi nijak aktivně
        nepracuje.</small></p>
    <p class="mb-1"><small>2022 <a href="#" target="_blank" class="link-secondary">odkaz někam</a></small></p>
  </footer>
  </div>
  <script>
    pocetVeci = 1;
    
    function addRow() {
      pocetVeci++
      var newRow = `<input type="text" class="form-control no-validate" name="vec-${pocetVeci}" id="vec-${pocetVeci}" placeholder="napište, co potřebujete">`;
      var el = document.createElement("div");
      el.classList.add("col-12", "mb-3");
      el.innerHTML = newRow;
      document.getElementById("dalsi-veci").appendChild(el);
    }

    function send(formId) {
      var form = document.getElementById(formId);

      if(!form.checkValidity()) {
        form.classList.add('was-validated')
        return
      }

      var formData = new FormData(form);
      var data = [];
      var head = {};
      formData.forEach(function (value, key) {
        if(key.includes("vec-")) {
          if(value) {
            data.push(value);
          }
          } else {
          head[key] = value;
        }
      });

      data = data.map(item => {
        return Object.assign({}, head, {
          vec: item
        });
      })
    
      console.log(data);

      //google.script.run.withSuccessHandler(onSuccess('requests-success',form)).addRequest(data);
    }

    function onSuccess(alertId,form) {
      form.classList.remove('was-validated');
      form.reset();
      document.getElementById('dalsi-veci').innerHTML = '';
      document.getElementById(alertId).classList.add('show');
    }
    

  </script>
</body>

</html>